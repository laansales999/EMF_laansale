<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Laansale Live Menu</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <style>
        /* Reset & basic styling */
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: Arial, sans-serif; }
        body { display: flex; flex-direction: column; min-height: 100vh; }
        a { text-decoration: none; color: inherit; }
        button { cursor: pointer; }

        /* Header */
        header { background: #1a4b8c; color: white; padding: 1rem; display: flex; justify-content: space-between; align-items: center; }
        header h1 { font-size: 1.5rem; }

        /* Layout */
        main { flex: 1; display: flex; gap: 1rem; padding: 1rem; }
        .menu-section { flex: 2; overflow-y: auto; max-height: 80vh; display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 1rem; }
        #order-log { flex: 1; background: #f5f5f5; padding: 1rem; border-left: 2px solid #ddd; position: sticky; top: 1rem; height: fit-content; }

        /* Menu Items */
        .menu-item { border: 1px solid #ddd; padding: 1rem; border-radius: 8px; background: white; display: flex; flex-direction: column; gap: 0.5rem; }
        .menu-item h3 { font-size: 1.2rem; }
        .menu-item .price { font-weight: bold; }
        .size-buttons, .quantity-controls { display: flex; gap: 0.5rem; }
        .size-btn, .quantity-btn, .add-to-cart { padding: 0.3rem 0.5rem; border: 1px solid #1a4b8c; border-radius: 4px; background: white; color: #1a4b8c; }
        .size-btn.active { background: #1a4b8c; color: white; }
        .quantity { width: 30px; text-align: center; }

        /* Order Log */
        #order-log h2 { margin-bottom: 1rem; }
        .order-item { display: flex; justify-content: space-between; margin-bottom: 0.5rem; }
        .checkout-btn { background: #1a4b8c; color: white; padding: 0.5rem; border: none; border-radius: 4px; width: 100%; margin-top: 1rem; }

        /* Checkout form */
        #checkout-form { display: none; margin-top: 1rem; }
        .form-group { margin-bottom: 0.5rem; display: flex; flex-direction: column; }
        .form-group input, .form-group textarea { padding: 0.5rem; border: 1px solid #ccc; border-radius: 4px; }

        /* Footer */
        footer { background: #1a4b8c; color: white; padding: 1rem; margin-top: auto; }
        .footer-content { display: flex; flex-wrap: wrap; gap: 2rem; }
        .footer-content div { flex: 1 1 200px; }
        .footer-bottom { text-align: center; margin-top: 1rem; font-size: 0.9rem; }

        /* Responsive */
        @media(max-width: 768px){
            main { flex-direction: column; }
            #order-log { position: static; width: 100%; border-left: none; border-top: 2px solid #ddd; }
            .menu-section { max-height: none; grid-template-columns: 1fr 1fr; }
        }
        @media(max-width: 480px){
            .menu-section { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

<header>
    <h1>Laansale Live Menu</h1>
</header>

<main>
    <!-- Menu Section -->
    <section class="menu-section">
        <!-- Example menu items -->
        <div class="menu-item">
            <h3>Grilled Chicken</h3>
            <div class="price" id="price-grilled-chicken">500/-</div>
            <div class="quantity-controls">
                <button class="quantity-btn minus" data-item="grilled-chicken">-</button>
                <div class="quantity" data-item="grilled-chicken">0</div>
                <button class="quantity-btn plus" data-item="grilled-chicken">+</button>
            </div>
            <button class="add-to-cart" data-item="grilled-chicken" data-price="500">Add to Order</button>
        </div>

        <div class="menu-item">
            <h3>Soft Drink</h3>
            <div class="price" id="price-soft-drink">150/-</div>
            <div class="size-buttons">
                <button class="size-btn" data-item="soft-drink" data-size="Small" data-price="150">Small</button>
                <button class="size-btn" data-item="soft-drink" data-size="Medium" data-price="200">Medium</button>
                <button class="size-btn" data-item="soft-drink" data-size="Large" data-price="250">Large</button>
            </div>
            <div class="quantity-controls">
                <button class="quantity-btn minus" data-item="soft-drink">-</button>
                <div class="quantity" data-item="soft-drink">0</div>
                <button class="quantity-btn plus" data-item="soft-drink">+</button>
            </div>
            <button class="add-to-cart" data-item="soft-drink" data-price="150">Add to Order</button>
        </div>

        <!-- Add more menu items as needed -->
    </section>

    <!-- Order Log Sidebar -->
    <aside id="order-log">
        <h2>Your Order</h2>
        <div id="order-items">
            <p style="text-align:center; padding:20px;">Your order is empty</p>
        </div>
        <div><strong>Total: </strong><span id="order-total">0/-</span></div>
        <button class="checkout-btn" id="order-now-btn">Checkout</button>

        <!-- Checkout Form -->
        <section id="checkout-form">
            <div class="form-group">
                <label for="name">Full Name</label>
                <input type="text" id="name" required>
            </div>
            <div class="form-group">
                <label for="phone">Phone Number</label>
                <input type="tel" id="phone" required>
            </div>
            <div class="form-group">
                <label for="dressing">Clothes Description (Optional)</label>
                <textarea id="dressing" rows="3" placeholder="Describe your outfit"></textarea>
            </div>
            <div class="form-group">
                <label for="delivery-location">Delivery Location</label>
                <input type="text" id="delivery-location" readonly>
            </div>
            <div class="form-group">
                <label for="location-details">Location Details (Optional)</label>
                <textarea id="location-details" rows="2"></textarea>
            </div>
            <button class="checkout-btn" id="place-order">Confirm Order & Open WhatsApp</button>
        </section>
    </aside>
</main>

<!-- Footer -->
<footer>
    <div class="footer-content">
        <div>
            <img src="https://placehold.co/200x60/1a4b8c/white?text=Laansale+Live" alt="Laansale Logo">
            <p>Laansale â€” Connecting Buyers and Sellers with Confidence</p>
        </div>
        <div>
            <h3>About</h3>
            <p>Laansale isn't just a shop. It's a movement toward smarter commerce, designed for the new generation.</p>
        </div>
        <div>
            <h3>Partner with Us</h3>
            <p>Interested in partnering with us? Reach out via WhatsApp.</p>
            <a href="https://wa.me/254115030726" target="_blank">Contact on WhatsApp</a>
        </div>
    </div>
    <div class="footer-bottom">
        &copy; 2025 Laansale. All Rights Reserved.
    </div>
</footer>

<script>
    let cart = [];

    const orderItems = document.getElementById('order-items');
    const orderTotal = document.getElementById('order-total');
    const orderNowBtn = document.getElementById('order-now-btn');
    const checkoutForm = document.getElementById('checkout-form');
    const placeOrderBtn = document.getElementById('place-order');

    // Size buttons
    document.querySelectorAll('.size-btn').forEach(btn => {
        btn.addEventListener('click', () => {
            const item = btn.dataset.item;
            const price = btn.dataset.price;
            btn.parentNode.querySelectorAll('.size-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            document.querySelector(`.add-to-cart[data-item="${item}"]`).dataset.price = price;
            document.getElementById(`price-${item}`).textContent = price + '/-';
        });
    });

    // Quantity buttons
    document.querySelectorAll('.quantity-btn').forEach(btn => {
        btn.addEventListener('click', () => {
            const item = btn.dataset.item;
            const quantityEl = document.querySelector(`.quantity[data-item="${item}"]`);
            let qty = parseInt(quantityEl.textContent);
            if(btn.classList.contains('plus')) qty++; else if(qty>0) qty--;
            quantityEl.textContent = qty;
        });
    });

    // Add to cart
    document.querySelectorAll('.add-to-cart').forEach(btn => {
        btn.addEventListener('click', () => {
            const item = btn.dataset.item;
            const price = parseInt(btn.dataset.price);
            const quantity = parseInt(document.querySelector(`.quantity[data-item="${item}"]`).textContent);
            if(quantity === 0) return;

            let sizeBtn = btn.closest('.menu-item').querySelector('.size-btn.active');
            let size = sizeBtn ? sizeBtn.dataset.size : null;

            let index = cart.findIndex(c => c.name === item && c.size === size);
            if(index!==-1) cart[index].quantity += quantity;
            else cart.push({name:item, price, quantity, size});

            updateOrderLog();
            document.querySelector(`.quantity[data-item="${item}"]`).textContent = '0';
        });
    });

    function updateOrderLog(){
        orderItems.innerHTML = '';
        if(cart.length===0){
            orderItems.innerHTML='<p style="text-align:center; padding:20px;">Your order is empty</p>';
            orderTotal.textContent='0/-'; return;
        }
        let total=0;
        cart.forEach(item=>{
            let itemTotal = item.price * item.quantity;
            total+=itemTotal;
            let sizeInfo = item.size?` (${item.size})`:'';
            const div = document.createElement('div');
            div.className='order-item';
            div.innerHTML=`<div>${formatName(item.name)}${sizeInfo} x ${item.quantity}</div><div>${itemTotal}/-</div>`;
            orderItems.appendChild(div);
        });
        orderTotal.textContent = total + '/-';
    }

    function formatName(name){
        return name.split('-').map(w=>w.charAt(0).toUpperCase()+w.slice(1)).join(' ');
    }

    orderNowBtn.addEventListener('click', ()=>{
        if(cart.length===0){alert('Your order is empty.'); return;}
        checkoutForm.style.display='block';
        checkoutForm.scrollIntoView({behavior:'smooth'});
    });

    placeOrderBtn.addEventListener('click', ()=>{
        const name = document.getElementById('name').value;
        const phone = document.getElementById('phone').value;
        if(!name||!phone){alert('Please fill all required fields.'); return;}
        let summary=`*NEW ORDER*\n\n*Name:* ${name}\n*Phone:* ${phone}\n`;
        const dressing = document.getElementById('dressing').value;
        if(dressing) summary+=`*Clothes Description:* ${dressing}\n`;
        summary+='\n*Order Details:*\n';
        cart.forEach(item=>{
            let sizeInfo = item.size?` (${item.size})`:'';
            summary+=`- ${formatName(item.name)}${sizeInfo} x ${item.quantity} = ${item.price*item.quantity}/-\n`;
        });
        summary+=`\n*Total: ${cart.reduce((t,i)=>t+i.price*i.quantity,0)}/-*\n`;
        summary+=`*Delivery Location:* ${document.getElementById('delivery-location').value}\n`;
        const locDetails=document.getElementById('location-details').value;
        if(locDetails) summary+=`*Location Details:* ${locDetails}\n`;

        const whatsappURL=`https://wa.me/254759534267?text=${encodeURIComponent(summary)}`;
        window.open(whatsappURL,'_blank');

        cart=[]; updateOrderLog(); checkoutForm.style.display='none';
        document.getElementById('name').value=''; document.getElementById('phone').value='';
        document.getElementById('dressing').value=''; document.getElementById('location-details').value='';
        alert('Your order has been placed! Redirecting to WhatsApp...');
    });
</script>

</body>
</html>
